{%extends 'main/base.html'%}
{%load static%}

{%block style%}
<link rel="stylesheet" href="{%static 'css/profiles.css'%}"> {%endblock%}
{%block content%}
<div class="container d-flex justify-content-center">
    <div class="row g-3 w-100 justify-content-center">
        
        <div class="col-5">
          
            <div class="profile-flex ">
                <div class="card border">
                  {%include 'profiles/partials/personal_info.html'%}
                </div>
                <div class="card border">
                    {%include 'profiles/partials/contact_info.html'%}

                </div>
                <div class="many-card border">
                    {%include 'profiles/partials/experince.html'%}

                </div>
                <div class="many-card border">
                    {%include 'profiles/partials/skills.html'%}

                </div>
                <div class="many-card border">
                    {%include 'profiles/partials/language.html'%}

                </div>
                <div class="many-card border">
                  {%include 'profiles/partials/education.html'%}

              </div>
              <div class="many-card border">
                {%include 'profiles/partials/certification.html'%}

            </div>
               
            </div>
        </div>
        <div class="col-3">
            <div class="test border">
                <p>complate profile</p>
            </div>

        </div>
    </div>
</div>
<script>
    document.querySelectorAll('.many-card:not([data-exp-id])').forEach(x => {
      const listView  = x.querySelector('.many-card-view');
      const addForm   = x.querySelector('.many-card-add');
      const addBtn    = x.querySelector('.add-btn');
      const cancelAdd = addForm.querySelector('.cancel-btn');
  
      addBtn.addEventListener('click', () => {
        listView.style.display = 'none';
        addForm.style.display  = 'block';
      });
      cancelAdd.addEventListener('click', () => {
        addForm.style.display  = 'none';
        listView.style.display = 'block';
      });
  
      x.querySelectorAll('.many-card[data-exp-id]').forEach(card => {
        const viewPane  = card.querySelector('.many-card-view');
        const editPane  = card.querySelector('.many-card-edit');
        const editBtn   = card.querySelector('.edit-btn');
        const cancelBtn = card.querySelector('.cancel-btn');
  
        editBtn.addEventListener('click', () => {
          viewPane.style.display = 'none';
          editPane.style.display = 'block';
        });
        cancelBtn.addEventListener('click', () => {
          editPane.style.display = 'none';
          viewPane.style.display = 'block';
        });
      });
    });
  
    document.querySelectorAll('.card').forEach(card => {
      const view      = card.querySelector('.card-view');
      const edit      = card.querySelector('.card-edit');
      const btnEdit   = card.querySelector('.edit-btn');
      const btnCancel = card.querySelector('.cancel-btn');
  
      btnEdit.addEventListener('click', () => {
        view.style.display = 'none';
        edit.style.display = 'block';
      });
      btnCancel.addEventListener('click', () => {
        view.style.display = 'block';
        edit.style.display = 'none';
      });
    });
  </script>
  
  
{%endblock%}